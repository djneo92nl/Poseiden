/*!
 * iro.js
 * ----------------
 * Author: James Daniel (github.com/jaames | rakujira.jp)
 * Last updated: Mon Apr 24 2017
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.iro=e():t.iro=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var s=n[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.t?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="dist",e(e.s=13)}([function(t,e,n){"use strict";var r=Math.round;t.exports={name:"rgb",e:function(t){var e,n,s,i,a,o,u,c,h=t.h/360,f=t.s/100,l=t.v/100;switch(i=Math.floor(6*h),a=6*h-i,o=l*(1-f),u=l*(1-a*f),c=l*(1-(1-a)*f),i%6){case 0:e=l,n=c,s=o;break;case 1:e=u,n=l,s=o;break;case 2:e=o,n=l,s=c;break;case 3:e=o,n=u,s=l;break;case 4:e=c,n=o,s=l;break;case 5:e=l,n=o,s=u}return{r:r(255*e),g:r(255*n),b:r(255*s)}},u:function(t){var e,n=t.r/255,s=t.g/255,i=t.b/255,a=Math.max(n,s,i),o=Math.min(n,s,i),u=a-o;switch(a){case o:e=0;break;case n:e=(s-i)/u+(s<i?6:0);break;case s:e=(i-n)/u+2;break;case i:e=(n-s)/u+4}return e/=6,{h:r(360*e),s:r(0===a?0:u/a*100),v:r(100*a)}}}},function(t,e,n){"use strict";function r(t){return t&&t.t?t:{default:t}}var s=n(3),i=r(s),a=n(0),o=r(a),u=n(9),c=r(u),h=n(10),f=r(h),l=n(8),d=r(l),v=[i.default,o.default,c.default,f.default,d.default],p=function t(e){var n=this;if(!(this instanceof t))return new t(e);this.f=!1,this._={h:void 0,s:void 0,v:void 0},this.register("hsv",{get:this.get,set:this.set}),v.forEach(function(t){n.register(t.name,{set:function(e){this.hsv=t.u(e)},get:function(){return t.e(this.hsv)}})}),e&&this.fromString(e)};p.prototype={register:function(t,e){Object.defineProperty(this,t,e)},watch:function(t,e){this.f=t,e&&this.forceUpdate()},unwatch:function(){this.watch(!1)},forceUpdate:function(){var t=this._;this.f(t,t,{h:!0,s:!0,v:!0})},set:function(t){var e={},n=this._;for(var r in n)t.hasOwnProperty(r)||(t[r]=n[r]),e[r]=!(t[r]==n[r]);this._=t;var s=this.f;(e.h||e.s||e.v)&&"function"==typeof s&&s(t,n,e)},get:function(){return this._},fromString:function(t){/^rgb/.test(t)?this.rgbString=t:/^hsl/.test(t)?this.hslString=t:/^#[0-9A-Fa-f]/.test(t)&&(this.hexString=t)}},t.exports=p},function(t,e,n){"use strict";function r(t){return t&&t.t?t:{default:t}}var s=n(6),i=r(s),a=document,o=function(t){var e=i.default.create("style");i.default.M(e,a.createTextNode("")),i.default.M(a.head,e),this.style=e;var n=e.sheet;this.sheet=n,this.rules=n.rules||n.cssRules,this.map={}};o.prototype={on:function(){this.sheet.disabled=!1},off:function(){this.sheet.disabled=!0},setRule:function(t,e,n){var r=this.sheet,s=r.rules||r.cssRules,i=this.map;if(e=e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()}),i.hasOwnProperty(t))i[t].setProperty(e,n);else{var a=s.length,o=e+": "+n;try{r.insertRule(t+" {"+o+";}",a)}catch(e){r.addRule(t,o,a)}finally{s=r.rules||r.cssRules,i[t]=s[a].style}}},getCss:function(){var t=this.map,e={};for(var n in t){var r=t[n];e[n]={};for(var s=0;s<r.length;s++){var i=r[s];e[n][i]=r.getPropertyValue(i)}}return e},getCssText:function(){var t=this.map,e=[];for(var n in t)e.push(n.replace(/,\W/g,",\n")+" {\n\t"+t[n].cssText.replace(/;\W/g,";\n\t")+"\n}");return e.join("\n")}},t.exports=o},function(t,e,n){"use strict";var r=Math.round;t.exports={name:"hsl",e:function(t){var e=t.s/100,n=t.v/100,s=(2-e)*n;return e=0==e?0:e*n/(s<1?s:2-s),{h:t.h,s:r(100*e),l:r(50*s)}},u:function(t){var e=t.s/50,n=t.l/100;return e*=n<=1?n:2-n,{h:t.h,s:r(2*e/(n+e)*100),v:r(100*(n+e))}}}},function(t,e,n){"use strict";function r(t,e){return e.forEach(function(e){t.addColorStop(e.at,e.color)}),t}t.exports={k:function(t,e,n,s,i,a){return r(t.createLinearGradient(e,n,s,n),a)},H:function(t,e,n,s,i,a){return r(t.createRadialGradient(e,n,s,e,n,i),a)}}},function(t,e,n){"use strict";var r=function(t,e){this.opts=e,this.T=t,this.S=!1};r.prototype={P:function(t,e,n,r){var s=this.T;s.lineWidth=r,s.beginPath(),s.strokeStyle=n,s.arc(t,e,this.opts.r,0,2*Math.PI),s.stroke()},move:function(t,e){var n=this.S,r=this.opts.r+4;n&&this.T.clearRect(n.x-r,n.y-r,2*r,2*r),this.P(t,e,"#333",4),this.P(t,e,"#fff",2),this.S={x:t,y:e}}},t.exports=r},function(t,e,n){"use strict";function r(t,e){t="string"==typeof t?[t]:t,t.forEach(e)}var s=document,i="complete",a="readystatechange";t.exports={$:function(t){return s.querySelector(t)},create:function(t){return s.createElement(t)},M:function(t,e){return t.appendChild(e)},C:function(t,e){return t.getAttribute(e)},R:function(t,e,n){r(e,function(e){t.addEventListener(e,n)})},I:function(t,e,n){r(e,function(e){t.removeEventListener(e,n)})},D:function(t){var e=this;s.readyState==i?t():e.R(s,a,function n(r){s.readyState==i&&(t(),e.I(s,a,n))})}}},function(t,e,n){"use strict";function r(t){return t&&t.t?t:{default:t}}var s=n(12),i=r(s),a=n(11),o=r(a),u=n(6),c=r(u),h=n(1),f=r(h),l=n(2),d=r(l),v=!1;c.default.R(document,["mousemove","touchmove"],function(t){v&&v.j(t)}),c.default.R(document,["mouseup","touchend"],function(t){v&&(t.preventDefault(),v.L=!1,v=!1)});var p=function t(e,n){if(!(this instanceof t))return new t(e,n);this.L=!1,this.f=!1,this.stylesheet=new d.default,this.css=n.css||n.styles||void 0,this.color=new f.default(n.color||"#fff"),c.default.D(function(){e="string"==typeof e?c.default.$(e):e,e.style.cssText+="position:relative";var t=n.width||parseInt(c.default.C(e,"width"))||320,r=n.height||parseInt(c.default.C(e,"height"))||320,s=devicePixelRatio||1,a=t*s,u=r*s,h={};["main","over"].forEach(function(n,i){var o=c.default.M(e,c.default.create("canvas")),f=o.getContext("2d"),l=o.style;o.width=a,o.height=u,l.cssText+="width:"+t+"px;height:"+r+"px",f.scale(s,s),0!=i&&(l.cssText+="position:absolute;top:0;left:0"),h[n]={ctx:f,canvas:o}}),this.el=e,this.layers=h;var f=n.padding+2||6,l=n.sliderMargin||24,d=n.markerRadius||8,v=n.sliderHeight||2*d+2*f,p=Math.min(r-v-l,t),g=(t-p)/2,m={r:d};this.ui=[new i.default(h,{cX:g+p/2,cY:p/2,r:p/2,rMax:p/2-(d+f),marker:m}),new o.default(h,{sliderType:"v",x:g,y:p+l,w:p,h:v,r:v/2,marker:m})],this.color.watch(this.O.bind(this),!0),c.default.R(e,["mousedown","touchstart"],this.X.bind(this))}.bind(this))};p.prototype={watch:function(t,e){this.f=t,e&&t(this.color)},unwatch:function(){this.watch(null)},Y:function(t){t.preventDefault();var e=t.touches?t.changedTouches[0]:t,n=this.layers.main.canvas.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}},W:function(t,e){this.color.set(this.L.input(t,e))},X:function(t){var e=this,n=this.Y(t),r=n.x,s=n.y;this.ui.forEach(function(t){t.checkHit(r,s)&&(v=e,e.L=t,e.W(r,s))})},j:function(t){if(this==v){var e=this.Y(t);this.W(e.x,e.y)}},O:function(t,e,n){var r=this.color,s=r.rgbString,i=this.css;this.ui.forEach(function(t){t.update(r,n)});for(var a in i){var o=i[a];for(var u in o)this.stylesheet.setRule(a,u,s)}var c=this.f;"function"==typeof c&&c(r,n)}},t.exports=p},function(t,e,n){"use strict";function r(t){return t&&t.t?t:{default:t}}var s=n(0),i=r(s);t.exports={name:"hexString",e:function(t){var e=i.default.e(t),n=e.r,r=e.g,s=e.b,a=n%17==0&&r%17==0&&s%17==0,o=a?17:1,u=a?4:8,c=a?4:7,h=n/o<<2*u|r/o<<u|s/o,f=h.toString(16);return"#"+new Array(c-f.length).join("0")+f},u:function(t){t=t.replace(/#/g,"");var e=parseInt("0x"+t),n=3==t.length,r=n?15:255,s=n?4:8,a=n?17:1;return i.default.u({r:(e>>2*s&r)*a,g:(e>>s&r)*a,b:(e&r)*a})}}},function(t,e,n){"use strict";function r(t){return t&&t.t?t:{default:t}}var s=n(3),i=r(s);t.exports={name:"hslString",e:function(t){var e=i.default.e(t);return"hsl"+(e.a?"a":"")+"("+e.h+", "+e.s+"%, "+e.l+"%"+(e.a?", "+e.a:"")+")"},u:function(t){var e=t.match(/(hsla?)\((\d+)(?:\D+?)(\d+)(?:\D+?)(\d+)(?:\D+?)?([0-9\.]+?)?\)/i);return i.default.u({h:parseInt(e[2]),s:parseInt(e[3]),l:parseInt(e[4])})}}},function(t,e,n){"use strict";function r(t){return t&&t.t?t:{default:t}}var s=n(0),i=r(s);t.exports={name:"rgbString",e:function(t){var e=i.default.e(t);return"rgb"+(e.a?"a":"")+"("+e.r+", "+e.g+", "+e.b+(e.a?", "+e.a:"")+")"},u:function(t){var e=t.match(/(rgba?)\((\d+)(?:\D+?)(\d+)(?:\D+?)(\d+)(?:\D+?)?([0-9\.]+?)?\)/i);return i.default.u({r:parseInt(e[2]),g:parseInt(e[3]),b:parseInt(e[4])})}}},function(t,e,n){"use strict";function r(t){return t&&t.t?t:{default:t}}var s=n(4),i=r(s),a=n(5),o=r(a),u=function(t,e){this.T=t.main.ctx,e.x1=e.x,e.y1=e.y,e.x2=e.x+e.w,e.y2=e.y+e.h,e.range={min:e.x+e.r,max:e.x2-e.r,w:e.w-2*e.r},e.sliderType=e.sliderType||"v",this.type="slider",this.marker=new o.default(t.over.ctx,e.marker),this.A=e};u.prototype={draw:function(){var t=this.T,e=this.A,n=e.x1,r=e.y1,s=e.x2,a=e.y2,o=e.w,u=e.h,c=e.r;t.clearRect(n,r,o,u),t.beginPath(),t.moveTo(n+c,r),t.arcTo(s,r,s,a,c),t.arcTo(s,a,n,a,c),t.arcTo(n,a,n,r,c),t.arcTo(n,r,s,r,c),t.closePath();var h;"v"==e.sliderType&&(h=i.default.k(t,n,r,s,a,[{at:0,color:"#000"},{at:1,color:"#fff"}])),t.fillStyle=h,t.fill()},update:function(t,e){var n=this.A,r=n.range,s=t.hsv;if("v"==n.sliderType&&e.v){var i=s.v/100;this.marker.move(r.min+i*r.w,n.y1+n.h/2),this.q||(this.draw(),this.q=!0)}},input:function(t,e){var n=this.A,r=n.range,s=Math.max(Math.min(t,r.max),r.min)-r.min;return{v:Math.round(100/r.w*s)}},checkHit:function(t,e){var n=this.A;return t>n.x1&&t<n.x2&&e>n.y1&&e<n.y2}},t.exports=u},function(t,e,n){"use strict";function r(t){return t&&t.t?t:{default:t}}var s=n(4),i=r(s),a=n(5),o=r(a),u=Math.PI,c=Math.pow,h=Math.sqrt,f=Math.abs,l=Math.round,d=function(t,e){this.T=t.main.ctx,this.A=e,this.type="wheel",this.marker=new o.default(t.over.ctx,e.marker)};d.prototype={draw:function(t){var e=this.T,n=this.A,r=n.cX,s=n.cY,a=n.r;e.clearRect(r-a,s-a,2*a,2*a),e.lineWidth=a;for(var o=2*u/360,c=0,h=0;c<360;c++,h+=o)e.strokeStyle="hsl("+c+",100%,"+t/2+"%)",e.beginPath(),e.arc(r,s,a/2,h,h+o+.02),e.stroke();var f="hsla(0,0%,"+t+"%,";e.fillStyle=i.default.H(e,r,s,0,n.rMax,[{at:0,color:f+"1)"},{at:1,color:f+"0)"}]),e.fillRect(r-a,s-a,2*a,2*a)},update:function(t,e){var n=this.A,r=t.hsv;if(e.v&&this.draw(r.v),e.h||e.s){var s=r.h*(u/180),i=r.s/100*n.rMax;this.marker.move(n.cX+i*Math.cos(s),n.cY+i*Math.sin(s))}},input:function(t,e){var n=this.A,r=n.cX,s=n.cY,i=(n.r,n.rMax);return{h:360-(l(Math.atan2(t-r,e-s)*(180/u))+270)%360,s:l(100/i*Math.min(h(c(r-t,2)+c(s-e,2)),i))}},checkHit:function(t,e){var n=this.A,r=f(t-n.cX),s=f(e-n.cY);return h(r*r+s*s)<n.r}},t.exports=d},function(t,e,n){"use strict";function r(t){return t&&t.t?t:{default:t}}var s=n(7),i=r(s),a=n(1),o=r(a),u=n(2),c=r(u);t.exports={Color:o.default,ColorPicker:i.default,Stylesheet:c.default,ColorWheel:i.default}}])});
//# sourceMappingURL=iro.min.js.map
